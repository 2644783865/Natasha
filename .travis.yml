language: csharp
solution: Natasha.sln
mono: none
dotnet: 2.2
dist: xenial
sudo: required

before_install:
  - sudo apt-get install nuget
env:
  global:
    - DOTNET_SKIP_FIRST_TIME_EXPERIENCE: true
    - DOTNET_CLI_TELEMETRY_OPTOUT: 1
install:
- dotnet restore
- nuget install xunit.runner.console -Version 2.4.1 -OutputDirectory testrunner
script:
- msbuild /p:Configuration=Release Natasha.sln
- dotnet ./testrunner/xunit.runner.console.2.4.1/tools/xunit.console.dll ./NatashaUT/bin/Release/netcoreapp2.2/NatashaUT.dll